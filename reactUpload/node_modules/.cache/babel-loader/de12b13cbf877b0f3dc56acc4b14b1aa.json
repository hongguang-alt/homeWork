{"ast":null,"code":"var _jsxFileName = \"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/page/upload/changePassword/index.jsx\";\nimport React from 'react';\nimport { Card, Input, Form, Button, message } from 'antd';\nimport { password } from '../../../axios/api';\n\nconst ChangePassword = () => {\n  const [form] = Form.useForm(); //布局\n\n  const layout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 10,\n      span: 14\n    }\n  };\n\n  const onFinish = async values => {\n    getPassword(values);\n\n    try {\n      await form.resetFields();\n      s;\n    } catch (e) {}\n  }; //调用修改密码的接口\n\n\n  const getPassword = async values => {\n    try {\n      let {\n        status,\n        msg\n      } = await password(values);\n\n      if (status == '200') {\n        message.success('修改成功');\n      } else {\n        message.error(msg);\n      }\n    } catch (e) {\n      message.error('修改密码接口请求失败');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"\\u4FEE\\u6539\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '300px',\n      margin: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u65E7\\u5BC6\\u7801\",\n    name: \"oldPassword\",\n    rules: [{\n      required: true,\n      message: '请输入旧密码!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u65B0\\u5BC6\\u7801\",\n    name: \"newPassword\",\n    rules: [{\n      required: true,\n      message: '请输入新密码!'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value && getFieldValue('oldPassword') === value) {\n          return Promise.reject('新密码不能和旧密码相同!');\n        }\n\n        return Promise.resolve();\n      }\n\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\"))))));\n};\n\nexport default ChangePassword;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/page/upload/changePassword/index.jsx"],"names":["React","Card","Input","Form","Button","message","password","ChangePassword","form","useForm","layout","labelCol","span","wrapperCol","tailLayout","offset","onFinish","values","getPassword","resetFields","s","e","status","msg","success","error","width","margin","remember","required","getFieldValue","validator","rule","value","Promise","reject","resolve"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,IAAtB,EAA4BC,MAA5B,EAAoCC,OAApC,QAAmD,MAAnD;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AACzB,QAAM,CAACC,IAAD,IAASL,IAAI,CAACM,OAAL,EAAf,CADyB,CAGzB;;AACA,QAAMC,MAAM,GAAG;AACXC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADC;AAEXC,IAAAA,UAAU,EAAE;AAAED,MAAAA,IAAI,EAAE;AAAR;AAFD,GAAf;AAIA,QAAME,UAAU,GAAG;AACfD,IAAAA,UAAU,EAAE;AAAEE,MAAAA,MAAM,EAAE,EAAV;AAAcH,MAAAA,IAAI,EAAE;AAApB;AADG,GAAnB;;AAGA,QAAMI,QAAQ,GAAG,MAAMC,MAAN,IAAgB;AAC7BC,IAAAA,WAAW,CAACD,MAAD,CAAX;;AACA,QAAG;AACH,YAAMT,IAAI,CAACW,WAAL,EAAN;AACRC,MAAAA,CAAC;AACQ,KAHD,CAGC,OAAMC,CAAN,EAAQ,CAER;AACJ,GARD,CAXyB,CAsBzB;;;AACA,QAAMH,WAAW,GAAG,MAAOD,MAAP,IAAkB;AAClC,QAAI;AACA,UAAI;AAAEK,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAkB,MAAMjB,QAAQ,CAACW,MAAD,CAApC;;AACA,UAAIK,MAAM,IAAI,KAAd,EAAqB;AACjBjB,QAAAA,OAAO,CAACmB,OAAR,CAAgB,MAAhB;AACH,OAFD,MAEO;AACHnB,QAAAA,OAAO,CAACoB,KAAR,CAAcF,GAAd;AACH;AACJ,KAPD,CAOE,OAAOF,CAAP,EAAU;AACRhB,MAAAA,OAAO,CAACoB,KAAR,CAAc,YAAd;AACH;AAEJ,GAZD;;AAcA,sBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,oBACQjB,MADR;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,aAAa,EAAE;AAAEkB,MAAAA,QAAQ,EAAE;AAAZ,KAHnB;AAII,IAAA,QAAQ,EAAEZ,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,oBADV;AAEI,IAAA,IAAI,EAAC,aAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAEa,MAAAA,QAAQ,EAAE,IAAZ;AAAkBxB,MAAAA,OAAO,EAAE;AAA3B,KAAD,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CANJ,eAcI,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,KAAK,EAAC,oBADV;AAEI,IAAA,IAAI,EAAC,aAFT;AAGI,IAAA,KAAK,EAAE,CAAC;AAAEwB,MAAAA,QAAQ,EAAE,IAAZ;AAAkBxB,MAAAA,OAAO,EAAE;AAA3B,KAAD,EACP,CAAC;AAAEyB,MAAAA;AAAF,KAAD,MAAwB;AACpBC,MAAAA,SAAS,CAACC,IAAD,EAAOC,KAAP,EAAc;AACnB,YAAIA,KAAK,IAAIH,aAAa,CAAC,aAAD,CAAb,KAAiCG,KAA9C,EAAqD;AACjD,iBAAOC,OAAO,CAACC,MAAR,CAAe,cAAf,CAAP;AACH;;AACD,eAAOD,OAAO,CAACE,OAAR,EAAP;AACH;;AANmB,KAAxB,CADO,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAcI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CAdJ,eA8BI,oBAAC,IAAD,CAAM,IAAN,oBAAetB,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CA9BJ,CADJ,CADJ,CAFJ,CADJ;AA6CH,CAlFD;;AAoFA,eAAeP,cAAf","sourcesContent":["import React from 'react'\nimport { Card, Input, Form, Button, message } from 'antd'\nimport { password } from '../../../axios/api'\n\nconst ChangePassword = () => {\n    const [form] = Form.useForm();\n\n    //布局\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    };\n    const tailLayout = {\n        wrapperCol: { offset: 10, span: 14 },\n    };\n    const onFinish = async values => {\n        getPassword(values)\n        try{\n        await form.resetFields()\ns\n        }catch(e){\n\n        }\n    };\n\n\n    //调用修改密码的接口\n    const getPassword = async (values) => {\n        try {\n            let { status, msg } = await password(values)\n            if (status == '200') {\n                message.success('修改成功')\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n            message.error('修改密码接口请求失败')\n        }\n\n    }\n\n    return (\n        <React.Fragment>\n            <h3>修改密码</h3>\n            <Card style={{ width: '100%' }}>\n                <div style={{ width: '300px', margin: \"auto\" }}>\n                    <Form\n                        {...layout}\n                        name=\"basic\"\n                        initialValues={{ remember: true }}\n                        onFinish={onFinish}\n                    >\n                        <Form.Item\n                            label=\"旧密码\"\n                            name=\"oldPassword\"\n                            rules={[{ required: true, message: '请输入旧密码!' }]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"新密码\"\n                            name=\"newPassword\"\n                            rules={[{ required: true, message: '请输入新密码!' },\n                            ({ getFieldValue }) => ({\n                                validator(rule, value) {\n                                    if (value && getFieldValue('oldPassword') === value) {\n                                        return Promise.reject('新密码不能和旧密码相同!');\n                                    }\n                                    return Promise.resolve();\n                                },\n                            }),\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                提交\n                        </Button>\n                        </Form.Item>\n                    </Form>\n                </div>\n            </Card>\n        </React.Fragment>\n    )\n}\n\nexport default ChangePassword"]},"metadata":{},"sourceType":"module"}