{"ast":null,"code":"import _slicedToArray from\"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Menu,Dropdown}from'antd';import{DownOutlined}from'@ant-design/icons';import{withRouter}from'react-router';import jwt from'jsonwebtoken';import{useState,useEffect}from'react';var OutLogin=function OutLogin(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];useEffect(function(){var _jwt$verify=jwt.verify(window.localStorage.getItem('token'),'yinxiu'),name=_jwt$verify.name;setName(name);});//退出的函数\nvar outLogin=function outLogin(){window.localStorage.removeItem(\"token\");props.history.push('/');};var menu=/*#__PURE__*/React.createElement(Menu,{onClick:function onClick(_ref){var key=_ref.key;if(key==='out'){outLogin();}}},/*#__PURE__*/React.createElement(Menu.Item,{key:\"out\"},\"\\u9000\\u51FA\"));return/*#__PURE__*/React.createElement(Dropdown,{overlay:menu},/*#__PURE__*/React.createElement(\"a\",{className:\"ant-dropdown-link\",onClick:function onClick(e){return e.preventDefault();}},\"\\u6B22\\u8FCE\\u4F60\\uFF0C\",name,\" \",/*#__PURE__*/React.createElement(DownOutlined,null)));};var TOutLogin=withRouter(OutLogin);export default TOutLogin;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/componet/outLogin/index.jsx"],"names":["React","Menu","Dropdown","DownOutlined","withRouter","jwt","useState","useEffect","OutLogin","props","name","setName","verify","window","localStorage","getItem","outLogin","removeItem","history","push","menu","key","e","preventDefault","TOutLogin"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,MAA/B,CACA,OAASC,YAAT,KAA6B,mBAA7B,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,eACAH,QAAQ,CAAC,EAAD,CADR,wCACjBI,IADiB,eACXC,OADW,eAGxBJ,SAAS,CAAC,UAAM,iBACGF,GAAG,CAACO,MAAJ,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,CAAiD,QAAjD,CADH,CACNL,IADM,aACNA,IADM,CAEZC,OAAO,CAACD,IAAD,CAAP,CACH,CAHQ,CAAT,CAIA;AACA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBH,MAAM,CAACC,YAAP,CAAoBG,UAApB,CAA+B,OAA/B,EACAR,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAHD,CAIA,GAAMC,CAAAA,IAAI,cACN,oBAAC,IAAD,EAAM,OAAO,CAAE,sBAAa,IAAVC,CAAAA,GAAU,MAAVA,GAAU,CACxB,GAAIA,GAAG,GAAK,KAAZ,CAAmB,CACfL,QAAQ,GACX,CACJ,CAJD,eAKI,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,KAAf,iBALJ,CADJ,CAWA,mBACI,oBAAC,QAAD,EAAU,OAAO,CAAEI,IAAnB,eACI,yBAAG,SAAS,CAAC,mBAAb,CAAiC,OAAO,CAAE,iBAAAE,CAAC,QAAIA,CAAAA,CAAC,CAACC,cAAF,EAAJ,EAA3C,6BACSb,IADT,kBACe,oBAAC,YAAD,MADf,CADJ,CADJ,CAOH,CA9BD,CAgCA,GAAMc,CAAAA,SAAS,CAAGpB,UAAU,CAACI,QAAD,CAA5B,CACA,cAAegB,CAAAA,SAAf","sourcesContent":["import React from 'react'\nimport { Menu, Dropdown } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router'\nimport jwt from 'jsonwebtoken'\nimport { useState, useEffect } from 'react';\n\nconst OutLogin = (props) => {\n    const [name, setName] = useState('')\n\n    useEffect(() => {\n        let { name } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu')\n        setName(name)\n    })\n    //退出的函数\n    const outLogin = () => {\n        window.localStorage.removeItem(\"token\")\n        props.history.push('/')\n    }\n    const menu = (\n        <Menu onClick={({ key }) => {\n            if (key === 'out') {\n                outLogin()\n            }\n        }}>\n            <Menu.Item key='out'>\n                退出\n            </Menu.Item>\n        </Menu>\n    );\n    return (\n        <Dropdown overlay={menu}>\n            <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n                欢迎你，{name} <DownOutlined />\n            </a>\n        </Dropdown>\n    )\n}\n\nconst TOutLogin = withRouter(OutLogin)\nexport default TOutLogin"]},"metadata":{},"sourceType":"module"}