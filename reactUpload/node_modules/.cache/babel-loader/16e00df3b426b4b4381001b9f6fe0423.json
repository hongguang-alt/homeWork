{"ast":null,"code":"import _slicedToArray from\"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{AppstoreOutlined,SettingOutlined,FormOutlined}from'@ant-design/icons';import{Layout,Menu}from'antd';import ChangePassword from'./changePassword';import UploadWork from'./uploadWork';import OutLogin from'../../componet/outLogin';import Manager from'./manager';import{useEffect}from'react';import jwt from'jsonwebtoken';var Header=Layout.Header,Content=Layout.Content,Sider=Layout.Sider;var Upload=function Upload(){var _useState=useState('uploadwork'),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState('student'),_useState4=_slicedToArray(_useState3,2),role=_useState4[0],setRole=_useState4[1];useEffect(function(){var _jwt$verify=jwt.verify(window.localStorage.getItem('token'),'yinxiu'),role=_jwt$verify.role;setRole(role);});var getRight=function getRight(){if(show==='changep'){return/*#__PURE__*/React.createElement(ChangePassword,null);}else if(show==='uploadwork'){return/*#__PURE__*/React.createElement(UploadWork,null);}else if(show==='manager'){return/*#__PURE__*/React.createElement(Manager,null);}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Layout,{style:{height:'100%'}},/*#__PURE__*/React.createElement(Header,{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:'#fff'}},\"\\u4F5C\\u4E1A\\u4E0A\\u4F20\"),/*#__PURE__*/React.createElement(OutLogin,null)),/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Sider,{style:{overflow:'hidden',background:'white'}},/*#__PURE__*/React.createElement(Menu,{style:{borderRight:0,fontSize:'14px'},defaultSelectedKeys:['uploadwork'],onClick:function onClick(_ref){var item=_ref.item,key=_ref.key,keyPath=_ref.keyPath,domEvent=_ref.domEvent;setShow(key);}},/*#__PURE__*/React.createElement(Menu.Item,{key:\"uploadwork\",icon:/*#__PURE__*/React.createElement(AppstoreOutlined,null)},\"\\u4E0A\\u4F20\\u4F5C\\u4E1A\\u6587\\u4EF6\"),/*#__PURE__*/React.createElement(Menu.Item,{key:\"changep\",icon:/*#__PURE__*/React.createElement(FormOutlined,null)},\"\\u4FEE\\u6539\\u5BC6\\u7801\"),role==='admin'?/*#__PURE__*/React.createElement(Menu.Item,{key:\"manager\",icon:/*#__PURE__*/React.createElement(SettingOutlined,null)},\"\\u7BA1\\u7406\\u4F5C\\u4E1A\"):null)),/*#__PURE__*/React.createElement(Content,null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:30}},getRight())))));};export default Upload;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/page/upload/index.jsx"],"names":["React","useState","AppstoreOutlined","SettingOutlined","FormOutlined","Layout","Menu","ChangePassword","UploadWork","OutLogin","Manager","useEffect","jwt","Header","Content","Sider","Upload","show","setShow","role","setRole","verify","window","localStorage","getItem","getRight","height","display","justifyContent","color","overflow","background","borderRight","fontSize","item","key","keyPath","domEvent","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { AppstoreOutlined, SettingOutlined, FormOutlined } from '@ant-design/icons';\nimport { Layout, Menu } from 'antd'\nimport ChangePassword from './changePassword'\nimport UploadWork from './uploadWork'\nimport OutLogin from '../../componet/outLogin'\nimport Manager from './manager'\nimport { useEffect } from 'react';\nimport jwt from 'jsonwebtoken'\nconst { Header, Content, Sider } = Layout;\n\n\n\n\nconst Upload = () => {\n    const [show, setShow] = useState('uploadwork')\n    const [role, setRole] = useState('student')\n\n    useEffect(() => {\n        let { role } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu')\n        setRole(role)\n    })\n    const getRight = () => {\n        if (show === 'changep') {\n            return <ChangePassword />\n        } else if (show === 'uploadwork') {\n            return <UploadWork />\n        } else if (show === 'manager') {\n            return <Manager />\n        }\n    }\n    return (\n        <React.Fragment>\n            <Layout style={{ height: '100%' }}>\n                <Header style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <h1 style={{ color: '#fff' }}>作业上传</h1>\n                    <OutLogin />\n                </Header>\n                <Layout>\n                    <Sider style={{ overflow: 'hidden', background: 'white' }}>\n                        <Menu style={{ borderRight: 0, fontSize: '14px' }}\n                            defaultSelectedKeys={['uploadwork']}\n                            onClick={({ item, key, keyPath, domEvent }) => {\n                                setShow(key)\n                            }}\n\n                        >\n                            <Menu.Item key=\"uploadwork\" icon={<AppstoreOutlined />} >\n                                上传作业文件\n                            </Menu.Item>\n                            <Menu.Item key=\"changep\" icon={<FormOutlined />}>\n                                修改密码\n                            </Menu.Item>\n                            {\n                                role === 'admin' ? <Menu.Item key=\"manager\" icon={<SettingOutlined />}>\n                                    管理作业\n                            </Menu.Item> : null\n                            }\n\n                        </Menu>\n                    </Sider>\n                    <Content>\n                        <div style={{ padding: 30 }}>\n                            {getRight()}\n                        </div>\n                    </Content>\n                </Layout>\n            </Layout>\n        </React.Fragment>\n    )\n}\n\nexport default Upload"]},"metadata":{},"sourceType":"module"}