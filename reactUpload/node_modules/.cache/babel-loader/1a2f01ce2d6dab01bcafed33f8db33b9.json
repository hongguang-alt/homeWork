{"ast":null,"code":"var _jsxFileName = \"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/page/login/index.jsx\";\nimport React, { useState } from 'react';\nimport { Layout, Card, Form, Input, Button, message } from 'antd';\nimport { login } from '../../axios/api';\nconst {\n  Header,\n  Footer,\n  Content\n} = Layout;\n\nconst Login = props => {\n  const [errInfo, setErrInfo] = useState('');\n  const layout = {\n    labelCol: {\n      span: 6\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  }; //表单验证成功\n\n  const onFinish = async value => {\n    try {\n      const {\n        status,\n        msg,\n        token\n      } = await login(value);\n\n      if (status === '201') {\n        setErrInfo(msg);\n      } else {\n        window.localStorage.setItem(token);\n        props.history.push('/upload');\n      }\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    style: {\n      textAlign: 'center',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"\\u4F5C\\u4E1A\\u4E0A\\u4EA4\\u7CFB\\u7EDF\"), /*#__PURE__*/React.createElement(Content, {\n    style: {\n      margin: 'auto',\n      marginTop: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"\\u767B\\u9646\",\n    style: {\n      width: 500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n    name: \"basic\",\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u5B66\\u53F7\",\n    name: \"sid\",\n    rules: [{\n      required: true,\n      message: '请输入你的学号！'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"\\u5BC6\\u7801\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: '请输入你的密码！'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  })), errInfo ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 40\n    }\n  }, errInfo) : '', /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \"\\u767B\\u9646\"))))), /*#__PURE__*/React.createElement(Footer, {\n    style: {\n      background: '#041527',\n      color: 'white',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"@\\u7F51\\u7EDC\\u5DE5\\u7A0B171\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/page/login/index.jsx"],"names":["React","useState","Layout","Card","Form","Input","Button","message","login","Header","Footer","Content","Login","props","errInfo","setErrInfo","layout","labelCol","span","wrapperCol","tailLayout","offset","onFinish","value","status","msg","token","window","localStorage","setItem","history","push","e","console","log","height","textAlign","color","margin","marginTop","width","required","background"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Layout, Card, Form, Input, Button, message } from 'antd';\nimport { login } from '../../axios/api'\nconst { Header, Footer, Content } = Layout;\n\nconst Login = (props) => {\n    const [errInfo, setErrInfo] = useState('')\n    const layout = {\n        labelCol: {\n            span: 6,\n        },\n        wrapperCol: {\n            span: 16,\n        },\n    }\n    const tailLayout = {\n        wrapperCol: {\n            offset: 8,\n            span: 16,\n        },\n    }\n    //表单验证成功\n    const onFinish = async (value) => {\n        try {\n            const { status, msg, token } = await login(value)\n            if (status === '201') {\n                setErrInfo(msg)\n            } else {\n                window.localStorage.setItem(token)\n                props.history.push('/upload')\n            }\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n    return (\n        <React.Fragment>\n            <Layout style={{ height: '100%' }}>\n                <Header style={{ textAlign: 'center', color: 'white' }}>\n                    作业上交系统\n                </Header>\n                <Content style={{ margin: 'auto', marginTop: '100px' }}>\n                    <Card title=\"登陆\" style={{ width: 500 }}>\n                        <Form\n                            {...layout}\n                            name=\"basic\"\n                            onFinish={onFinish}\n                        >\n                            <Form.Item\n                                label=\"学号\"\n                                name=\"sid\"\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: '请输入你的学号！',\n                                    },\n                                ]}\n                            >\n                                <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                                label=\"密码\"\n                                name=\"password\"\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: '请输入你的密码！',\n                                    },\n                                ]}\n                            >\n                                <Input.Password />\n                            </Form.Item>\n                            {errInfo ? <div style={{}}>{errInfo}</div> : ''}\n                            <Form.Item {...tailLayout}>\n                                <Button type=\"primary\" htmlType=\"submit\">\n                                    登陆\n                                </Button>\n                            </Form.Item>\n                        </Form>\n                    </Card>\n                </Content>\n                <Footer style={{ background: '#041527', color: 'white', textAlign: 'center' }}>\n                    @网络工程171\n                </Footer>\n            </Layout>\n        </React.Fragment>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}