{"ast":null,"code":"var _jsxFileName = \"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/componet/outLogin/index.jsx\";\nimport React from 'react';\nimport { Menu, Dropdown } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router';\nimport jwt from 'jsonwebtoken';\nimport { useState, useEffect } from 'react';\n\nconst OutLogin = props => {\n  const [name, setName] = useState('');\n  useEffect(() => {\n    let {\n      name\n    } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu');\n    setName(name);\n  }); //退出的函数\n\n  const outLogin = () => {\n    window.localStorage.setItem('token');\n    props.history.push('/');\n  };\n\n  const menu = /*#__PURE__*/React.createElement(Menu, {\n    onClick: ({\n      key\n    }) => {\n      if (key === 'out') {\n        outLogin();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"out\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, \"\\u9000\\u51FA\"));\n  return /*#__PURE__*/React.createElement(Dropdown, {\n    overlay: menu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"ant-dropdown-link\",\n    onClick: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"\\u6B22\\u8FCE\\u4F60\\uFF0C\", name, \" \", /*#__PURE__*/React.createElement(DownOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 28\n    }\n  })));\n};\n\nconst TOutLogin = withRouter(OutLogin);\nexport default TOutLogin;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/componet/outLogin/index.jsx"],"names":["React","Menu","Dropdown","DownOutlined","withRouter","jwt","useState","useEffect","OutLogin","props","name","setName","verify","window","localStorage","getItem","outLogin","setItem","history","push","menu","key","e","preventDefault","TOutLogin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,MAA/B;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI;AAAEG,MAAAA;AAAF,QAAWL,GAAG,CAACO,MAAJ,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,EAAiD,QAAjD,CAAf;AACAJ,IAAAA,OAAO,CAACD,IAAD,CAAP;AACH,GAHQ,CAAT,CAHwB,CAOxB;;AACA,QAAMM,QAAQ,GAAG,MAAM;AACnBH,IAAAA,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4B,OAA5B;AACAR,IAAAA,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,GAHD;;AAIA,QAAMC,IAAI,gBACN,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAE,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAa;AACxB,UAAIA,GAAG,KAAK,KAAZ,EAAmB;AACfL,QAAAA,QAAQ;AACX;AACJ,KAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,CADJ;AAWA,sBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEI,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAiC,IAAA,OAAO,EAAEE,CAAC,IAAIA,CAAC,CAACC,cAAF,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACSb,IADT,oBACe,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,CADJ,CADJ;AAOH,CA9BD;;AAgCA,MAAMc,SAAS,GAAGpB,UAAU,CAACI,QAAD,CAA5B;AACA,eAAegB,SAAf","sourcesContent":["import React from 'react'\nimport { Menu, Dropdown } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router'\nimport jwt from 'jsonwebtoken'\nimport { useState, useEffect } from 'react';\n\nconst OutLogin = (props) => {\n    const [name, setName] = useState('')\n\n    useEffect(() => {\n        let { name } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu')\n        setName(name)\n    })\n    //退出的函数\n    const outLogin = () => {\n        window.localStorage.setItem('token')\n        props.history.push('/')\n    }\n    const menu = (\n        <Menu onClick={({ key }) => {\n            if (key === 'out') {\n                outLogin()\n            }\n        }}>\n            <Menu.Item key='out'>\n                退出\n            </Menu.Item>\n        </Menu>\n    );\n    return (\n        <Dropdown overlay={menu}>\n            <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n                欢迎你，{name} <DownOutlined />\n            </a>\n        </Dropdown>\n    )\n}\n\nconst TOutLogin = withRouter(OutLogin)\nexport default TOutLogin"]},"metadata":{},"sourceType":"module"}