{"ast":null,"code":"var _jsxFileName = \"/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/axios/index.js\";\nimport axios from 'axios'; //设置axios的基本配置\n\naxios.defaults.baseURL = 'http://localhost:3000/'; // 添加请求拦截器\n\naxios.interceptors.request.use(function (config) {\n  // 在发送请求之前做些什么\n  let token = /*#__PURE__*/React.createElement(\"window\", {\n    className: \"localStorage getItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 17\n    }\n  })('token');\n\n  if (token) {\n    config.headers.authorization = 'Bearer ' + token;\n  }\n\n  return config;\n}, function (error) {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n}); // 添加响应拦截器\n\naxios.interceptors.response.use(function (response) {\n  // 对响应数据做点什么\n  return response;\n}, function (error) {\n  // 对响应错误做点什么\n  return Promise.reject(error);\n});\nexport default axios;","map":{"version":3,"sources":["/Users/wanghongguang/Desktop/homework/reactUpload/reactupload/src/axios/index.js"],"names":["axios","defaults","baseURL","interceptors","request","use","config","token","headers","authorization","error","Promise","reject","response"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,wBAAzB,C,CAEA;;AACAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AAC7C;AACA,MAAIC,KAAK,GAAG;AAAQ,IAAA,SAAS,EAAC,sBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmD,OAAnD,CAAZ;;AACA,MAAIA,KAAJ,EAAW;AACPD,IAAAA,MAAM,CAACE,OAAP,CAAeC,aAAf,GAA+B,YAAYF,KAA3C;AACH;;AACD,SAAOD,MAAP;AACH,CAPD,EAOG,UAAUI,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAVD,E,CAYA;;AACAV,KAAK,CAACG,YAAN,CAAmBU,QAAnB,CAA4BR,GAA5B,CAAgC,UAAUQ,QAAV,EAAoB;AAChD;AACA,SAAOA,QAAP;AACH,CAHD,EAGG,UAAUH,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAND;AAQA,eAAeV,KAAf","sourcesContent":["import axios from 'axios'\n\n//设置axios的基本配置\naxios.defaults.baseURL = 'http://localhost:3000/';\n\n// 添加请求拦截器\naxios.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    let token = <window className=\"localStorage getItem\"></window>('token')\n    if (token) {\n        config.headers.authorization = 'Bearer ' + token;\n    }\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (response) {\n    // 对响应数据做点什么\n    return response;\n}, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\n\nexport default axios"]},"metadata":{},"sourceType":"module"}