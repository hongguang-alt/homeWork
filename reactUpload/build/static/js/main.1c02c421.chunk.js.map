{"version":3,"sources":["axios/index.js","axios/api.js","page/login/index.jsx","page/upload/changePassword/index.jsx","page/upload/uploadWork/index.jsx","componet/outLogin/index.jsx","page/upload/manager/index.jsx","page/upload/index.jsx","App.js","index.js"],"names":["axios","defaults","baseURL","interceptors","request","use","config","token","window","localStorage","getItem","headers","authorization","error","Promise","reject","response","data","upload","formdata","post","changeFileFormat","param","deteleOne","name","get","Header","Layout","Footer","Content","Login","props","useState","errInfo","setErrInfo","loading","setLoading","tailLayout","wrapperCol","offset","span","onFinish","value","a","parms","status","msg","setItem","history","push","console","log","Fragment","style","height","textAlign","color","fontSize","margin","marginTop","tip","spinning","title","width","labelCol","Item","label","rules","required","message","Password","marginBottom","type","htmlType","background","ChangePassword","Form","useForm","form","values","getPassword","resetFields","success","initialValues","remember","getFieldValue","validator","rule","resolve","UploadWork","fileList","setFileList","uploading","setUploading","fileName","setFileName","useEffect","toGetFileName","toUpload","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","fontWeight","content","format","UploadOutlined","onClick","formData","FormData","forEach","append","disabled","length","TOutLogin","withRouter","setName","jwt","verify","menu","key","removeItem","overlay","className","e","preventDefault","DownOutlined","confirm","Modal","Manager","noHomeWorkList","setNoHomeWorkList","dataSource","setDataSource","getNoHomeWorkList","getDetailList","getAllFile","location","assign","getOneFile","toChangeFileFormat","columns","dataIndex","sorter","b","Number","sid","Date","ctime","getTime","render","text","moment","record","size","toDeleteData","okText","cancelText","onOk","onCancel","display","flexWrap","Array","isArray","map","item","extra","marginLeft","Sider","Upload","show","setShow","role","setRole","justifyContent","overflow","borderRight","defaultSelectedKeys","keyPath","domEvent","icon","AppstoreOutlined","FormOutlined","SettingOutlined","padding","App","path","exact","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1c02c421.chunk.js","sourcesContent":["import axios from 'axios'\n\n//设置axios的基本配置\naxios.defaults.baseURL = 'http://122.152.193.177:3001';\n\n// 添加请求拦截器\naxios.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    let token = window.localStorage.getItem('token')\n    if (token) {\n        config.headers.authorization = 'Bearer ' + token;\n    }\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (response) {\n    const {\n        data\n    } = response\n    // 对响应数据做点什么\n    return data;\n}, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\n\nexport default axios","import axios from './index'\n\n//登陆接口\nexport const login = (parms) => {\n    return axios.post('/user/login', {\n        ...parms\n    })\n}\n\n//获取文件内容的接口\nexport const getFileName = () => {\n    return axios.get('/user/fileName')\n}\n\n//上传文件的接口\nexport const upload = (formdata) => {\n    return axios.post('/file/uploadfile',\n        formdata\n    )\n}\n\n//修改密码的接口\nexport const password = (parms) => {\n    return axios.post('/user/password', {\n        ...parms\n    })\n}\n\n\n//获取未上交作业名单的接口\nexport const noHomeWorkListName = () => {\n    return axios.get('/user/noFileName')\n}\n\n//修改文件命名格式的接口\nexport const changeFileFormat = (param) => {\n    return axios.post('/user/changeFile', {\n        ...param\n    })\n}\n\n//获取详情列表\nexport const detailList = () => {\n    return axios.get('/user/detail')\n}\n\n//清空所有数据\nexport const deleteAll = () => {\n    return axios.get('/file/deleteall')\n}\n\n//删除单个文件 \nexport const deteleOne = ({\n    name\n}) => {\n    return axios.get('/file/delete/' + name)\n}","import React, { useState } from 'react'\nimport { Layout, Card, Form, Input, Button, message, Spin } from 'antd';\nimport { login } from '../../axios/api'\nconst { Header, Footer, Content } = Layout;\n\nconst Login = (props) => {\n    const [errInfo, setErrInfo] = useState('')\n    const [loading, setLoading] = useState(false)\n    const layout = {\n        labelCol: {\n            span: 6,\n        },\n        wrapperCol: {\n            span: 16,\n        },\n    }\n    const tailLayout = {\n        wrapperCol: {\n            offset: 8,\n            span: 16,\n        },\n    }\n    //表单验证成功\n    const onFinish = async (value) => {\n        try {\n            setLoading(true)\n            const { status, msg, token } = await login(value)\n            if (status === '201') {\n                setLoading(false)\n                setErrInfo(msg)\n            } else {\n                setErrInfo('')\n                setLoading(false)\n                window.localStorage.setItem('token', token)\n                props.history.push('/upload')\n            }\n        } catch (e) {\n            console.log(e)\n        }\n    }\n    return (\n        <React.Fragment>\n            <Layout style={{ height: '100%' }}>\n                <Header style={{ textAlign: 'center', color: 'white', fontSize: '20px' }}>\n                    作业上交系统\n                </Header>\n\n                <Content style={{ margin: 'auto', marginTop: '100px' }}>\n                    <Spin tip='请求中' spinning={loading}>\n                        <Card title=\"登陆\" style={{ width: 500 }}>\n                            <Form\n                                {...layout}\n                                name=\"basic\"\n                                onFinish={onFinish}\n                            >\n                                <Form.Item\n                                    label=\"学号\"\n                                    name=\"sid\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: '请输入你的学号！',\n                                        },\n                                    ]}\n                                >\n                                    <Input />\n                                </Form.Item>\n\n                                <Form.Item\n                                    label=\"密码\"\n                                    name=\"password\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: '请输入你的密码！',\n                                        },\n                                    ]}\n                                >\n                                    <Input.Password />\n                                </Form.Item>\n                                {errInfo ? <div style={{ color: 'red', textAlign: 'center', marginBottom: '10px' }}>{errInfo}</div> : ''}\n                                <Form.Item {...tailLayout}>\n                                    <Button type=\"primary\" htmlType=\"submit\">\n                                        登陆\n                                </Button>\n                                </Form.Item>\n                            </Form>\n                        </Card>\n                    </Spin>\n                </Content>\n                <Footer style={{ background: '#041527', color: 'white', textAlign: 'center' }}>\n                    @网络工程171\n                </Footer>\n            </Layout>\n        </React.Fragment>\n    )\n}\n\nexport default Login","import React from 'react'\nimport { Card, Input, Form, Button, message } from 'antd'\nimport { password } from '../../../axios/api'\n\nconst ChangePassword = () => {\n    const [form] = Form.useForm();\n\n    //布局\n    const layout = {\n        labelCol: { span: 8 },\n        wrapperCol: { span: 16 },\n    };\n    const tailLayout = {\n        wrapperCol: { offset: 10, span: 14 },\n    };\n    const onFinish = async values => {\n        getPassword(values)\n        try {\n            await form.resetFields()\n\n        } catch (e) {\n            console.log(e)\n        }\n    };\n\n\n    //调用修改密码的接口\n    const getPassword = async (values) => {\n        try {\n            let { status, msg } = await password(values)\n            if (status == '200') {\n                message.success('修改成功')\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n            message.error('修改密码接口请求失败')\n        }\n\n    }\n\n    return (\n        <React.Fragment>\n            <h3>修改密码</h3>\n            <Card style={{ width: '100%' }}>\n                <div style={{ width: '300px', margin: \"auto\" }}>\n                    <Form\n                        {...layout}\n                        name=\"basic\"\n                        initialValues={{ remember: true }}\n                        onFinish={onFinish}\n                        form={form}\n                    >\n                        <Form.Item\n                            label=\"旧密码\"\n                            name=\"oldPassword\"\n                            rules={[{ required: true, message: '请输入旧密码!' }]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"新密码\"\n                            name=\"newPassword\"\n                            rules={[{ required: true, message: '请输入新密码!' },\n                            ({ getFieldValue }) => ({\n                                validator(rule, value) {\n                                    if (value && getFieldValue('oldPassword') === value) {\n                                        return Promise.reject('新密码不能和旧密码相同!');\n                                    }\n                                    return Promise.resolve();\n                                },\n                            }),\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                提交\n                        </Button>\n                        </Form.Item>\n                    </Form>\n                </div>\n            </Card>\n        </React.Fragment>\n    )\n}\n\nexport default ChangePassword","import React, { useState, useEffect } from 'react'\nimport { Card, Button, Upload, message } from 'antd'\nimport { UploadOutlined } from '@ant-design/icons';\nimport { getFileName, upload } from '../../../axios/api'\n\nconst UploadWork = () => {\n    const [fileList, setFileList] = useState([])\n    const [uploading, setUploading] = useState(false)\n    const [fileName, setFileName] = useState({})\n\n    //初始化数据\n    useEffect(() => {\n        toGetFileName()\n    }, [])\n\n    //获取文件名以及格式\n    const toGetFileName = async () => {\n        try {\n            let { status, data, msg } = await getFileName()\n            if (status == '200') {\n                setFileName(data)\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n            message.error('请求文件名称接口失败')\n        }\n    }\n\n    //上传文件的接口\n    const toUpload = async (formdata) => {\n        try {\n            let { status, msg } = await upload(formdata)\n            if (status === '200') {\n                setFileList([])\n                setUploading(false)\n                message.success('上传成功')\n            } else {\n                message.error(msg)\n                setUploading(false)\n            }\n        } catch (e) {\n            message.error('请求上传接口失败')\n            setUploading(false)\n        }\n    }\n\n    const props = {\n        onRemove: file => {\n            const index = fileList.indexOf(file);\n            const newFileList = fileList.slice();\n            newFileList.splice(index, 1)\n            setFileList(newFileList)\n        },\n        beforeUpload: file => {\n            setFileList([file])\n            return false;\n        },\n        fileList,\n    };\n\n    const handleUpload = () => {\n        setUploading(true)\n        const formData = new FormData();\n        fileList.forEach(file => {\n            formData.append('file', file);\n        })\n        toUpload(formData)\n    }\n\n    return <React.Fragment>\n        <h3>上传作业</h3>\n        <Card title='上传要求' style={{ width: '100%', marginBottom: '50px' }}>\n            <div style={{ textAlign: 'center' }}>\n                <div>\n                    <span style={{ fontSize: '14px', fontWeight: 'bold' }}>本次上传的作业：</span>\n                    <span style={{ color: 'red' }}>{fileName.content}</span>\n                </div>\n                <div>\n                    <span style={{ fontSize: '14px', fontWeight: 'bold' }}>命名方式：</span>\n                    <span style={{ color: 'red' }}>{fileName.format}</span>\n                </div>\n            </div>\n        </Card>\n        <Card title='上传内容'>\n            <Upload {...props}>\n                <Button>\n                    <UploadOutlined />  上传\n                </Button>\n            </Upload>\n            <Button\n                type=\"primary\"\n                onClick={handleUpload}\n                disabled={fileList.length === 0}\n                loading={uploading}\n                style={{ marginTop: 16 }}\n            >\n                {uploading ? '上传中' : '开始上传'}\n            </Button>\n        </Card>\n    </React.Fragment>\n}\n\nexport default UploadWork","import React from 'react'\nimport { Menu, Dropdown } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router'\nimport jwt from 'jsonwebtoken'\nimport { useState, useEffect } from 'react';\n\nconst OutLogin = (props) => {\n    const [name, setName] = useState('')\n\n    useEffect(() => {\n        let { name } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu')\n        setName(name)\n    })\n    //退出的函数\n    const outLogin = () => {\n        window.localStorage.removeItem(\"token\")\n        props.history.push('/')\n    }\n    const menu = (\n        <Menu onClick={({ key }) => {\n            if (key === 'out') {\n                outLogin()\n            }\n        }}>\n            <Menu.Item key='out'>\n                退出\n            </Menu.Item>\n        </Menu>\n    );\n    return (\n        <Dropdown overlay={menu}>\n            <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n                欢迎你，{name} <DownOutlined />\n            </a>\n        </Dropdown>\n    )\n}\n\nconst TOutLogin = withRouter(OutLogin)\nexport default TOutLogin","import React, { useEffect, useState } from 'react'\nimport moment from 'moment'\nimport { Card, Button, Table, Space, Modal, Form, Input, message } from 'antd'\nimport { noHomeWorkListName, changeFileFormat, detailList, deleteAll, deteleOne } from '../../../axios/api'\nconst { confirm } = Modal;\n\n\n\nconst Manager = () => {\n    const [noHomeWorkList, setNoHomeWorkList] = useState([])\n    const [dataSource, setDataSource] = useState([])\n    const [form] = Form.useForm()\n\n\n    useEffect(() => {\n        getNoHomeWorkList()\n        getDetailList()\n    }, [])\n\n    const onFinish = (value) => {\n        toChangeFileFormat(value)\n        form.resetFields()\n\n    }\n\n    //获取全部文件\n    const getAllFile = async () => {\n        const token = window.localStorage.getItem('token')\n        window.location.assign('http://localhost:3001/file/downloadall/' + token)\n    }\n\n    const getOneFile = async (name) => {\n        const token = window.localStorage.getItem('token')\n        window.location.assign('http://localhost:3001/file/download/' + name + '/' + token)\n    }\n\n    //修改文件名称的接口\n    const toChangeFileFormat = async (param) => {\n        try {\n            let { msg, status } = await changeFileFormat(param)\n            if (status == '200') {\n                message.success('修改成功')\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n            console.log(e)\n            message.error(\"访问修改接口失败\")\n        }\n    }\n\n\n    //获取未完成作业的列表\n    const getNoHomeWorkList = async () => {\n        try {\n            let { data, status, msg } = await noHomeWorkListName()\n            if (status == '200') {\n                message.success('获取未完成作业列表成功')\n                setNoHomeWorkList(data.data)\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n            console.log(e)\n            message.error('获取未完成作业接口失败')\n        }\n    }\n\n    //获取文件详情数据的接口\n    const getDetailList = async () => {\n        try {\n            let { data, status, msg } = await detailList()\n            if (status == '200') {\n                message.success('获取列表成功')\n                setDataSource(data.data)\n            } else {\n                message.error(msg)\n            }\n        } catch (e) {\n\n        }\n    }\n\n\n    const columns = [\n        {\n            title: '姓名',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: '学号',\n            dataIndex: 'sid',\n            key: 'sid',\n            sorter: (a, b) => Number(a.sid) - Number(b.sid)\n        }, {\n            title: '文件名称',\n            dataIndex: 'fileName',\n            key: 'fileName'\n        },\n        {\n            title: '提交时间',\n            dataIndex: 'ctime',\n            key: 'ctime',\n            sorter: (a, b) => new Date(a.ctime).getTime() - new Date(b.ctime).getTime(),\n            render: (text) => {\n                return moment(text).format('YYYY-MM-DD HH:mm:ss')\n            }\n        },\n        {\n            title: '操作',\n            dataIndex: 'action',\n            key: 'action',\n            render: (text, record) => {\n                return <Space size=\"middle\">\n                    <a onClick={() => toDeleteData(record)}>删除</a>\n                    <a onClick={() => {\n                        getOneFile(record.fileName)\n                    }}>导出</a>\n                </Space>\n            }\n        }\n    ];\n\n    const layout = {\n        labelCol: {\n            span: 6,\n        },\n        wrapperCol: {\n            span: 16,\n        },\n    }\n    const tailLayout = {\n        wrapperCol: {\n            offset: 10,\n            span: 14,\n        },\n    }\n\n    const toDeleteData = (record) => {\n        confirm({\n            title: '确定删除这条数据?',\n            okText: \"确认\",\n            cancelText: \"取消\",\n            onOk: async () => {\n                try {\n                    const { status, msg } = await deteleOne({ name: record.fileName })\n                    if (status == '200') {\n                        message.success('删除文档成功')\n                        getDetailList()\n                        getNoHomeWorkList()\n                    } else {\n                        message.error(msg)\n                    }\n                } catch (e) {\n                    console.log(e)\n                    message.error('删除单个接口失败')\n                }\n\n            },\n            onCancel() {\n                console.log('Cancel');\n            },\n        });\n    }\n\n    const toDeleteAll = () => {\n        confirm({\n            title: '确定清空数据?',\n            okText: \"确认\",\n            cancelText: \"取消\",\n            onOk: async () => {\n                try {\n                    const { status, msg } = await deleteAll()\n                    if (status == '200') {\n                        message.success('删除全部文档成功')\n                        getDetailList()\n                        getNoHomeWorkList()\n                    } else {\n                        message.error(msg)\n                    }\n                } catch (e) {\n                    message.error('删除全部接口失败')\n                }\n            },\n            onCancel() {\n                console.log('Cancel');\n            },\n        });\n    }\n\n    return (\n        <React.Fragment>\n            <h3>管理作业</h3>\n            <Card title='作业未上交名单' style={{ marginBottom: '50px' }} >\n                <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n                    {\n                        Array.isArray(noHomeWorkList) ? noHomeWorkList.map((item, index) => {\n                            return <div key={index} style={{ width: '50px', textAlign: 'center', color: 'red' }}>{item}</div>\n                        }) : null\n                    }\n                </div>\n            </Card>\n            <Card title='作业内容' style={{ marginBottom: '50px' }}>\n                <div style={{ width: '600px', margin: 'auto' }}>\n                    <Form\n                        {...layout}\n                        name=\"basic\"\n                        onFinish={onFinish}\n                        form={form}\n                    >\n                        <Form.Item\n                            label=\"上传作业内容\"\n                            name=\"content\"\n                            rules={[{ required: true, message: '请输入作业内容' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"命名格式\"\n                            name=\"format\"\n                            rules={[{ required: true, message: '请输入命名格式' }]}\n                        >\n                            <Input />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                提交\n                        </Button>\n                        </Form.Item>\n                    </Form>\n                </div>\n            </Card>\n            <Card title='作业列表' extra={\n                <div>\n                    <Button type='primary' style={{ fontSize: \"14px\" }} onClick={getAllFile}>全部导出</Button>\n                    <Button type='primary' style={{ fontSize: \"14px\", marginLeft: '10px' }} onClick={toDeleteAll}>清空数据</Button>\n                </div>}>\n                <Table dataSource={dataSource} columns={columns} />\n            </Card>\n        </React.Fragment>\n    )\n}\n\nexport default Manager","import React, { useState } from 'react'\nimport { AppstoreOutlined, SettingOutlined, FormOutlined } from '@ant-design/icons';\nimport { Layout, Menu } from 'antd'\nimport ChangePassword from './changePassword'\nimport UploadWork from './uploadWork'\nimport OutLogin from '../../componet/outLogin'\nimport Manager from './manager'\nimport { useEffect } from 'react';\nimport jwt from 'jsonwebtoken'\nconst { Header, Content, Sider } = Layout;\n\n\n\n\nconst Upload = () => {\n    const [show, setShow] = useState('uploadwork')\n    const [role, setRole] = useState('student')\n\n    useEffect(() => {\n        let { role } = jwt.verify(window.localStorage.getItem('token'), 'yinxiu')\n        setRole(role)\n    })\n    const getRight = () => {\n        if (show === 'changep') {\n            return <ChangePassword />\n        } else if (show === 'uploadwork') {\n            return <UploadWork />\n        } else if (show === 'manager') {\n            return <Manager />\n        }\n    }\n    return (\n        <React.Fragment>\n            <Layout style={{ height: '100%' }}>\n                <Header style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <h1 style={{ color: '#fff' }}>作业上传</h1>\n                    <OutLogin />\n                </Header>\n                <Layout>\n                    <Sider style={{ overflow: 'hidden', background: 'white' }}>\n                        <Menu style={{ borderRight: 0, fontSize: '14px' }}\n                            defaultSelectedKeys={['uploadwork']}\n                            onClick={({ item, key, keyPath, domEvent }) => {\n                                setShow(key)\n                            }}\n\n                        >\n                            <Menu.Item key=\"uploadwork\" icon={<AppstoreOutlined />} >\n                                上传作业文件\n                            </Menu.Item>\n                            <Menu.Item key=\"changep\" icon={<FormOutlined />}>\n                                修改密码\n                            </Menu.Item>\n                            {\n                                role === 'admin' ? <Menu.Item key=\"manager\" icon={<SettingOutlined />}>\n                                    管理作业\n                            </Menu.Item> : null\n                            }\n\n                        </Menu>\n                    </Sider>\n                    <Content>\n                        <div style={{ padding: 30 }}>\n                            {getRight()}\n                        </div>\n                    </Content>\n                </Layout>\n            </Layout>\n        </React.Fragment>\n    )\n}\n\nexport default Upload","import React from 'react';\nimport Login from './page/login'\nimport Upload from './page/upload'\nimport {BrowserRouter,HashRouter , Switch ,Route } from 'react-router-dom'\nimport 'antd/dist/antd.css'\n\nfunction App() {\n  return (\n    <div style={{height:'100%'}}>\n      <HashRouter>\n      <Switch>\n        <Route path='/' exact component={Login} />\n        <Route path='/login' exact component={Login} />\n        <Route path='/upload' exact component={Upload} />\n      </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}